<div class="row col-sm-12 p-0 m-0 pb-5">
  <h4 class="font-14 fw-500 pr-3 pt-3 pb-3 pl-4 mb-0 primary">
    Create Viz Roles
  </h4>
  <div class="col-sm-12 p-0 pt-1 mt-1">
    <div class="row m-0 pl-1">
      <div class="col-sm-2 p-0 ml-3">
        <form>
          <mat-form-field
            appearance="outline"
            class="font-11 col-sm-12 p-1"
            *ngIf="userNames.length > 0"
          >
            <mat-label>Select User</mat-label>
            <input
              type="text"
              matInput
              [formControl]="userNameControl"
              [matAutocomplete]="auto"
            />
            <mat-autocomplete
              #auto="matAutocomplete"
              [displayWith]="displayFn"
              class="securityUser"
            >
              <mat-option
                *ngFor="let option of filteredOptions | async"
                [value]="option.name"
                (click)="selectUser(option.email)"
              >
                {{ option.name | titlecase }}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </form>
      </div>
      <div class="col-sm-2 p-0 ml-3">
        <mat-form-field appearance="outline" class="col-sm-12 font-11 p-1">
          <mat-label>Apps</mat-label>
          <mat-select #select multiple [formControl]="appsControl">
            <input
              type="text"
              (keyup)="onSearchAppList($event)"
              class="form-control"
              placeholder="search"
            />
            <div class="select-all pointer">
              <mat-checkbox
                [(ngModel)]="allSelected"
                [ngModelOptions]="{ standalone: true }"
                (change)="toggleAllSelection()"
                >{{ selectall }}</mat-checkbox
              >
            </div>

            <mat-option
              *ngFor="let a of selectedApps"
              [value]="a"
              (onSelectionChange)="changeApps()"
              >{{ a }}</mat-option
            >
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-sm-2 p-0 ml-3">
        <mat-form-field appearance="outline" class="col-sm-12 font-11 p-1">
          <mat-label>permissions</mat-label>
          <mat-select #selectview [formControl]="permissionControl">
            <mat-option
              *ngFor="let a of selectedAppsView"
              [value]="a"
              (onSelectionChange)="changeViews()"
              >{{ a }}</mat-option
            >
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-sm-2 mt-2">
        <button
          type="submit"
          mat-raised-button
          class="text-info md font-13"
          (click)="addRole()"
        >
          Submit
        </button>
      </div>
    </div>
  </div>
</div>
