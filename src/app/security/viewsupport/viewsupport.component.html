<div class="row col-sm-12 p-0 m-0 pb-5">
  <div class="row col-12 p-0">
    <div class="col-4">
      <h4 class="font-14 fw-500 p-3 mb-0 primary">
        Modify / Delete Support Group
      </h4>
    </div>
    <div class="col-8">
      <mat-form-field
        appearance="outline"
        class="font-11 col-sm-4 p-1 float-right"
      >
        <mat-label>Search </mat-label>
        <input
          type="text"
          matInput
          autocomplete="off"
          placeholder="search"
          (keyup)="filterDatatable($event)"
        />
      </mat-form-field>
    </div>
  </div>

  <div class="col-sm-12 p-0">
    <div class="row m-1 pl-1">
      <div class="col-sm-12 p-1">
        <ag-grid-angular
          #agGrid
          class="ag-theme-balham mt-3 customgridheight"
          [rowData]="rowData"
          [columnDefs]="columnDefs"
          [defaultColDef]="defaultColDef"
          [modules]="modules"
          [groupMultiAutoColumn]="true"
          [sideBar]="sidebar"
          [animateRows]="true"
          [pagination]="true"
          [paginationAutoPageSize]="true"
          (gridReady)="onGridReady($event)"
          [autoGroupColumnDef]="autoGroupColumnDef"
          (cellClicked)="cellClicked($event, openAddData)"
        >
        </ag-grid-angular>
      </div>
      <!-- <ngx-datatable
          *ngIf="rowData.length>0" #table style="height:300px;width: 100%;" class="material ml-0 mr-0"

          [rows]="rowData"

           [columns]="displayedColumns"
           [columnMode]="'force'"

           [headerHeight]="40" [footerHeight]="40" [scrollbarH]="true"
           [limit]="9" [rowHeight]="40" [scrollbarV]="true"
             >
      <ngx-datatable-column name="S.No" [width]="5">
        <ng-template let-row="row" let-rowIndex="rowIndex" ngx-datatable-cell-template>
          {{ rowIndex + 1 }}
        </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column *ngFor="let column of displayedColumns; let i = index;"   name="{{column.name}}" prop="{{column.prop}}">
        </ngx-datatable-column>


        <ngx-datatable-column name="Action"  [sortable]="false" >
          <ng-template let-value="value"    let-row="row"   ngx-datatable-cell-template>
            <mat-icon class="pointer mr-2 font-18" title="edit" (click)="editSupportData(openAddData,row)">
              edit
            </mat-icon>


            <mat-icon class="danger pointer ml-2 delete" (click)="deleteSupportData(row.id)" title="Delete">
              delete_sweep
            </mat-icon>
          </ng-template>
        </ngx-datatable-column>






          </ngx-datatable> -->
    </div>
  </div>
</div>
<ng-template #openAddData>
  <div class="row col-sm-12 p-0 m-0 pb-5">
    <h4 class="font-14 fw-500 pr-3 pt-3 pb-3 pl-1 mb-0 primary">
      Update Support Group
    </h4>
    <div class="col-sm-12 p-0 pt-1 mt-1">
      <div class="row m-0 pl-1">
        <!-- <div class="col-sm-4">
                    <mat-form-field appearance="outline" class="font-11 col-sm-12 p-1">
                        <mat-label>Select User</mat-label>
                        <mat-select [(ngModel)]="userName" name="userName">
                            <mat-option *ngFor="let user of userNames" [value]="user.email">{{user.name | titlecase}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <mat-form-field appearance="outline" class="font-11 col-sm-12 p-1">
                        <mat-label>Select Domain</mat-label>
                        <mat-select name="domain" [(ngModel)]="domain">
                          <mat-option *ngFor="let d of domainDetails" [value]="d">{{d}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                </div> -->

        <form class="row col-sm-12">
          <mat-form-field
            appearance="outline"
            class="font-11 col-sm-3 p-1"
            appearance="outline"
            *ngIf="userNames.length > 0"
          >
            <mat-label>Select User</mat-label>
            <input
              type="text"
              matInput
              [formControl]="userNameControl"
              [matAutocomplete]="auto"
            />
            <mat-autocomplete
              #auto="matAutocomplete"
              [displayWith]="displaysubFn"
              class="securityUser"
            >
              <mat-option
                *ngFor="let option of filteredOptions | async"
                [value]="option.name"
                (onSelectionChange)="updateMySelection(option)"
              >
                {{ option.name }}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
          <mat-form-field
            appearance="outline"
            class="font-11 col-sm-3 p-1"
            *ngIf="domainDetails.length > 0"
          >
            <mat-label>Select Domain</mat-label>
            <input
              type="text"
              matInput
              [formControl]="domainNameControl"
              [matAutocomplete]="auto"
            />
            <mat-autocomplete
              #auto="matAutocomplete"
              [displayWith]="displaysubFn"
              (optionSelected)="onDomainSelectionChange($event)"
              class="securityUser"
            >
              <mat-option
                *ngFor="let option of filteredDomainOptions | async"
                [value]="option.name"
                (onSelectionChange)="updateDomain(option)"
              >
                {{ option.name }}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>

          <mat-form-field
            appearance="outline"
            class="font-11 col-sm-3 p-1"
            *ngIf="domainDetails.length > 0"
          >
            <mat-label>Select Sub Domain</mat-label>
            <input
              type="text"
              matInput
              [formControl]="subDomainNameControl"
              [matAutocomplete]="subDomainauto"
            />
            <mat-autocomplete
              #subDomainauto="matAutocomplete"
              [displayWith]="displaysubFn"
              class="securityUser"
            >
              <mat-option
                *ngFor="let option of filteredSubDomainOptions | async"
                [value]="option"
              >
                {{ option }}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>

          <div class="col-sm-2">
            <button
              type="submit"
              mat-raised-button
              class="text-info md float-right font-13 mt-2"
              (click)="UpdateSupport()"
            >
              Update
            </button>
          </div>
        </form>

        <!-- <div class="col-sm-12 mt-2">


                </div>
     -->
      </div>
    </div>
  </div>
</ng-template>
